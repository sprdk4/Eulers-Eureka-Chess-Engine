##########################
# IMPLEMENTATION DETAILS #
# DO NOT EDIT THIS FILE  #
##########################

file(READ ${CMAKE_CURRENT_SOURCE_DIR}/additional_files.txt extras)

add_custom_target(Chess_additional ALL
    COMMAND ${CMAKE_COMMAND} -E touch ${CMAKE_CURRENT_SOURCE_DIR}/CMakeLists.txt
    DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/additional_files.txt)

string(REPLACE "\n" ";" extras ${extras})

foreach(file IN ITEMS ${extras})
    string(SUBSTRING ${file} 0 1 check)
    if(NOT ${check} STREQUAL "#")
        if(NOT EXISTS ${CMAKE_CURRENT_SOURCE_DIR}/${file})
            message(FATAL_ERROR "Could not find additional file \"${file}\"!")
        endif(NOT EXISTS ${CMAKE_CURRENT_SOURCE_DIR}/${file})
        list(APPEND to_add ${CMAKE_CURRENT_SOURCE_DIR}/${file})
        #message(STATUS ${file})
    endif(NOT ${check} STREQUAL "#")
endforeach(file)
set(to_add
        ${to_add}
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/ScopedBenchmark.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/ScopedBenchmark.h
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/BitBoard.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/BitBoard.h
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/BitMath.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/BitMath.h
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/Move.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/Move.h
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/MoveList.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/MoveList.h
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/MoveSelection.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/MoveSelection.h
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/ZobristHashConstants.h
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/TranspositionTable.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/TranspositionTable.h
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/HistoryTable.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/HistoryTable.h
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/Evaluation.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/Evaluation.h
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/Pondering.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/Pondering.h
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/OpeningTable.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/my_code/OpeningTable.h
        )

add_dependencies(dependencies Chess_additional)

set(FILES
    ${CMAKE_CURRENT_SOURCE_DIR}/ai.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/ai.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/impl/ai_impl.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/impl/chess.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/impl/chess.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/impl/chess_fwd.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/game_object.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/game_object.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/impl/game_object_impl.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/move.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/move.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/impl/move_impl.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/piece.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/piece.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/impl/piece_impl.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/player.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/player.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/impl/player_impl.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/game.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/game.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/impl/game_impl.cpp
    ${to_add}
    PARENT_SCOPE)
